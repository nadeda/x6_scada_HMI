"use strict";(self.webpackChunkXScadas=self.webpackChunkXScadas||[]).push([[513],{6513:function(e,t,n){n.r(t),n.d(t,{FakeData:function(){return re}});var r=n(4041),a=n(9650),i=n(6759),u=n(1635),c=n(7462),o=n(4942),l=n(1002),s=n(9439),f=n(7254),d=n(1413),m=n(359),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},p=n(76),g=function(e,t){return m.createElement(p.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:t,icon:v}))};g.displayName="UpOutlined";var h=m.forwardRef(g),N=n(4184),b=n.n(N),y=n(4925),S=n(5105),E=n(8410),Z=n(2550),w=n(5671),I=n(3144);function x(){return"function"==typeof BigInt}function k(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",a=r.split("."),i=a[0]||"0",u=a[1]||"0";"0"===i&&"0"===u&&(n=!1);var c=n?"-":"";return{negative:n,negativeStr:c,trimStr:r,integerStr:i,decimalStr:u,fullStr:"".concat(c).concat(r)}}function C(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function M(e){var t=String(e);if(C(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null==r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&T(t)?t.length-t.indexOf(".")-1:0}function R(e){var t=String(e);if(C(e)){if(e>Number.MAX_SAFE_INTEGER)return String(x()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(x()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(M(t))}return k(t).fullStr}function T(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function O(e){var t="number"==typeof e?R(e):k(e).fullStr;return t.includes(".")?k(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var D=function(){function e(t){(0,w.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return(0,I.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(M(this.number),M(n));return new e(r.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":R(this.number):this.origin}}]),e}(),F=function(){function e(t){if((0,w.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(C(n)&&(n=Number(n)),T(n="string"==typeof n?n:R(n))){var r=k(n);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,I.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),a=k((this.alignDecimal(r)+n.alignDecimal(r)).toString()),i=a.negativeStr,u=a.trimStr,c="".concat(i).concat(u.padStart(r+1,"0"));return new e("".concat(c.slice(0,-r),".").concat(c.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":k("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function _(e){return x()?new F(e):new D(e)}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var a=k(e),i=a.negativeStr,u=a.integerStr,c=a.decimalStr,o="".concat(t).concat(c),l="".concat(i).concat(u);if(n>=0){var s=Number(c[n]);if(s>=5&&!r){var f=_(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-s));return A(f.toString(),t,n,r)}return 0===n?l:"".concat(l).concat(t).concat(c.padEnd(n,"0").slice(0,n))}return".0"===o?l:"".concat(l).concat(o)}var B=n(1131);function q(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,a=e.upDisabled,i=e.downDisabled,u=e.onStep,l=m.useRef(),s=m.useRef();s.current=u;var f=function(e,t){e.preventDefault(),s.current(t),l.current=setTimeout((function e(){s.current(t),l.current=setTimeout(e,200)}),600)},d=function(){clearTimeout(l.current)};if(m.useEffect((function(){return d}),[]),(0,B.Z)())return null;var v="".concat(t,"-handler"),p=b()(v,"".concat(v,"-up"),(0,o.Z)({},"".concat(v,"-up-disabled"),a)),g=b()(v,"".concat(v,"-down"),(0,o.Z)({},"".concat(v,"-down-disabled"),i)),h={unselectable:"on",role:"button",onMouseUp:d,onMouseLeave:d};return m.createElement("div",{className:"".concat(v,"-wrap")},m.createElement("span",(0,c.Z)({},h,{onMouseDown:function(e){f(e,!0)},"aria-label":"Increase Value","aria-disabled":a,className:p}),n||m.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),m.createElement("span",(0,c.Z)({},h,{onMouseDown:function(e){f(e,!1)},"aria-label":"Decrease Value","aria-disabled":i,className:g}),r||m.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var P=n(334),G=n(5164),U=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],$=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},H=function(e){var t=_(e);return t.isInvalidate()?null:t},L=m.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-input-number":r,i=e.className,u=e.style,f=e.min,d=e.max,v=e.step,p=void 0===v?1:v,g=e.defaultValue,h=e.value,N=e.disabled,w=e.readOnly,I=e.upHandler,x=e.downHandler,k=e.keyboard,C=e.controls,D=void 0===C||C,F=e.stringMode,B=e.parser,L=e.formatter,V=e.precision,X=e.decimalSeparator,j=e.onChange,W=e.onInput,z=e.onPressEnter,K=e.onStep,J=(0,y.Z)(e,U),Q="".concat(a,"-input"),Y=m.useRef(null),ee=m.useState(!1),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ae=m.useRef(!1),ie=m.useRef(!1),ue=m.useRef(!1),ce=m.useState((function(){return _(null!=h?h:g)})),oe=(0,s.Z)(ce,2),le=oe[0],se=oe[1],fe=m.useCallback((function(e,t){if(!t)return V>=0?V:Math.max(M(e),M(p))}),[V,p]),de=m.useCallback((function(e){var t=String(e);if(B)return B(t);var n=t;return X&&(n=n.replace(X,".")),n.replace(/[^\w.-]+/g,"")}),[B,X]),me=m.useRef(""),ve=m.useCallback((function(e,t){if(L)return L(e,{userTyping:t,input:String(me.current)});var n="number"==typeof e?R(e):e;if(!t){var r=fe(n,t);T(n)&&(X||r>=0)&&(n=A(n,X||".",r))}return n}),[L,fe,X]),pe=m.useState((function(){var e=null!=g?g:h;return le.isInvalidate()&&["string","number"].includes((0,l.Z)(e))?Number.isNaN(e)?"":e:ve(le.toString(),!1)})),ge=(0,s.Z)(pe,2),he=ge[0],Ne=ge[1];function be(e,t){Ne(ve(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}me.current=he;var ye,Se,Ee,Ze,we,Ie=m.useMemo((function(){return H(d)}),[d,V]),xe=m.useMemo((function(){return H(f)}),[f,V]),ke=m.useMemo((function(){return!(!Ie||!le||le.isInvalidate())&&Ie.lessEquals(le)}),[Ie,le]),Ce=m.useMemo((function(){return!(!xe||!le||le.isInvalidate())&&le.lessEquals(xe)}),[xe,le]),Me=(ye=Y.current,Se=ne,Ee=(0,m.useRef)(null),[function(){try{var e=ye.selectionStart,t=ye.selectionEnd,n=ye.value,r=n.substring(0,e),a=n.substring(t);Ee.current={start:e,end:t,value:n,beforeTxt:r,afterTxt:a}}catch(e){}},function(){if(ye&&Ee.current&&Se)try{var e=ye.value,t=Ee.current,n=t.beforeTxt,r=t.afterTxt,a=t.start,i=e.length;if(e.endsWith(r))i=e.length-Ee.current.afterTxt.length;else if(e.startsWith(n))i=n.length;else{var u=n[a-1],c=e.indexOf(u,a-1);-1!==c&&(i=c+1)}ye.setSelectionRange(i,i)}catch(e){(0,P.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(e.message))}}]),Re=(0,s.Z)(Me,2),Te=Re[0],Oe=Re[1],De=function(e){return Ie&&!e.lessEquals(Ie)?Ie:xe&&!xe.lessEquals(e)?xe:null},Fe=function(e){return!De(e)},_e=function(e,t){var n=e,r=Fe(n)||n.isEmpty();if(n.isEmpty()||t||(n=De(n)||n,r=!0),!w&&!N&&r){var a=n.toString(),i=fe(a,t);return i>=0&&(n=_(A(a,".",i)),Fe(n)||(n=_(A(a,".",i,!0)))),n.equals(le)||(void 0===h&&se(n),null==j||j(n.isEmpty()?null:$(F,n)),void 0===h&&be(n,t)),n}return le},Ae=(Ze=(0,m.useRef)(0),we=function(){G.Z.cancel(Ze.current)},(0,m.useEffect)((function(){return we}),[]),function(e){we(),Ze.current=(0,G.Z)((function(){e()}))}),Be=function e(t){if(Te(),Ne(t),!ie.current){var n=_(de(t));n.isNaN()||_e(n,!0)}null==W||W(t),Ae((function(){var n=t;B||(n=t.replace(/。/g,".")),n!==t&&e(n)}))},qe=function(e){var t;if(!(e&&ke||!e&&Ce)){ae.current=!1;var n=_(ue.current?O(p):p);e||(n=n.negate());var r=(le||_(0)).add(n.toString()),a=_e(r,!1);null==K||K($(F,a),{offset:ue.current?O(p):p,type:e?"up":"down"}),null===(t=Y.current)||void 0===t||t.focus()}},Pe=function(e){var t=_(de(he)),n=t;n=t.isNaN()?le:_e(t,e),void 0!==h?be(le,!1):n.isNaN()||be(n,!1)};return(0,E.o)((function(){le.isInvalidate()||be(le,!1)}),[V]),(0,E.o)((function(){var e=_(h);se(e);var t=_(de(he));e.equals(t)&&ae.current&&!L||be(e,ae.current)}),[h]),(0,E.o)((function(){L&&Oe()}),[he]),m.createElement("div",{className:b()(a,i,(n={},(0,o.Z)(n,"".concat(a,"-focused"),ne),(0,o.Z)(n,"".concat(a,"-disabled"),N),(0,o.Z)(n,"".concat(a,"-readonly"),w),(0,o.Z)(n,"".concat(a,"-not-a-number"),le.isNaN()),(0,o.Z)(n,"".concat(a,"-out-of-range"),!le.isInvalidate()&&!Fe(le)),n)),style:u,onFocus:function(){re(!0)},onBlur:function(){Pe(!1),re(!1),ae.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;ae.current=!0,ue.current=!!n,t===S.Z.ENTER&&(ie.current||(ae.current=!1),Pe(!1),null==z||z(e)),!1!==k&&!ie.current&&[S.Z.UP,S.Z.DOWN].includes(t)&&(qe(S.Z.UP===t),e.preventDefault())},onKeyUp:function(){ae.current=!1,ue.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,Be(Y.current.value)},onBeforeInput:function(){ae.current=!0}},D&&m.createElement(q,{prefixCls:a,upNode:I,downNode:x,upDisabled:ke,downDisabled:Ce,onStep:qe}),m.createElement("div",{className:"".concat(Q,"-wrap")},m.createElement("input",(0,c.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":f,"aria-valuemax":d,"aria-valuenow":le.isInvalidate()?null:le.toString(),step:p},J,{ref:(0,Z.sQ)(Y,t),className:Q,value:he,onChange:function(e){Be(e.target.value)},disabled:N,readOnly:w}))))}));L.displayName="InputNumber";var V=L,X=n(3124),j=n(9098),W=n(7647),z=n(5223),K=n(4173),J=n(6159),Q=n(9708),Y=m.forwardRef((function(e,t){var n,r=m.useContext(X.E_),a=r.getPrefixCls,i=r.direction,u=m.useContext(W.Z),d=m.useState(!1),v=(0,s.Z)(d,2),p=v[0],g=v[1],N=m.useRef(null);m.useImperativeHandle(t,(function(){return N.current}));var y=e.className,S=e.size,E=e.disabled,Z=e.prefixCls,w=e.addonBefore,I=e.addonAfter,x=e.prefix,k=e.bordered,C=void 0===k||k,M=e.readOnly,R=e.status,T=e.controls,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),D=a("input-number",Z),F=(0,K.ri)(D,i),_=F.compactSize,A=F.compactItemClassnames,B=m.createElement(h,{className:"".concat(D,"-handler-up-inner")}),q=m.createElement(f.Z,{className:"".concat(D,"-handler-down-inner")}),P="boolean"==typeof T?T:void 0;"object"===(0,l.Z)(T)&&(B=void 0===T.upIcon?B:m.createElement("span",{className:"".concat(D,"-handler-up-inner")},T.upIcon),q=void 0===T.downIcon?q:m.createElement("span",{className:"".concat(D,"-handler-down-inner")},T.downIcon));var G=(0,m.useContext)(z.aM),U=G.hasFeedback,$=G.status,H=G.isFormItemInput,L=G.feedbackIcon,Y=(0,Q.F)($,R),ee=_||S||u,te=m.useContext(j.Z),ne=null!=E?E:te,re=b()((n={},(0,o.Z)(n,"".concat(D,"-lg"),"large"===ee),(0,o.Z)(n,"".concat(D,"-sm"),"small"===ee),(0,o.Z)(n,"".concat(D,"-rtl"),"rtl"===i),(0,o.Z)(n,"".concat(D,"-borderless"),!C),(0,o.Z)(n,"".concat(D,"-in-form-item"),H),n),(0,Q.Z)(D,Y),A,y),ae=m.createElement(V,(0,c.Z)({ref:N,disabled:ne,className:re,upHandler:B,downHandler:q,prefixCls:D,readOnly:M,controls:P},O));if(null!=x||U){var ie,ue=b()("".concat(D,"-affix-wrapper"),(0,Q.Z)("".concat(D,"-affix-wrapper"),Y,U),(ie={},(0,o.Z)(ie,"".concat(D,"-affix-wrapper-focused"),p),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-disabled"),e.disabled),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-sm"),"small"===u),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-lg"),"large"===u),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-rtl"),"rtl"===i),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-readonly"),M),(0,o.Z)(ie,"".concat(D,"-affix-wrapper-borderless"),!C),(0,o.Z)(ie,"".concat(y),!(w||I)&&y),ie));ae=m.createElement("div",{className:ue,style:e.style,onMouseUp:function(){return N.current.focus()}},x&&m.createElement("span",{className:"".concat(D,"-prefix")},x),(0,J.Tm)(ae,{style:null,value:e.value,onFocus:function(t){var n;g(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;g(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),U&&m.createElement("span",{className:"".concat(D,"-suffix")},L))}if(null!=w||null!=I){var ce,oe="".concat(D,"-group"),le="".concat(oe,"-addon"),se=w?m.createElement("div",{className:le},w):null,fe=I?m.createElement("div",{className:le},I):null,de=b()("".concat(D,"-wrapper"),oe,(0,o.Z)({},"".concat(oe,"-rtl"),"rtl"===i)),me=b()("".concat(D,"-group-wrapper"),(ce={},(0,o.Z)(ce,"".concat(D,"-group-wrapper-sm"),"small"===u),(0,o.Z)(ce,"".concat(D,"-group-wrapper-lg"),"large"===u),(0,o.Z)(ce,"".concat(D,"-group-wrapper-rtl"),"rtl"===i),ce),(0,Q.Z)("".concat(D,"-group-wrapper"),Y,U),y);ae=m.createElement("div",{className:me,style:e.style},m.createElement("div",{className:de},se&&m.createElement(z.Ux,{status:!0,override:!0},se),(0,J.Tm)(ae,{style:null,disabled:ne}),fe&&m.createElement(z.Ux,{status:!0,override:!0},fe)))}return ae})),ee=r.Z.Option,te=[{key:"seconds",value:"Simple Interval"}],ne=["seconds","minutes","hour","day"],re=function(e){var t=m.useState(te[0].value),n=t[0],c=t[1],o=m.useState(ne[1]),l=o[0],s=o[1],f=m.useState(1),d=f[0],v=f[1],p={seconds:1,minutes:60,hour:3600,day:86400};m.useEffect((function(){var t,n,r;if(e){var a=null===(t=e.cell)||void 0===t?void 0:t.toJSON();c((null===(n=a.meta)||void 0===n?void 0:n.timerTypeSelect)||te[0].key);var i=h((null===(r=a.config)||void 0===r?void 0:r.seconds)||480),u=i.timer,o=i.unitType;v(u),s(o)}}),[e.cellId]),m.useEffect((function(){var t;null===(t=e.cell)||void 0===t||t.prop("config",{seconds:g(d,l)})}),[e.cellId,d,l]);var g=function(e,t){if(e||0===e)return Number(p[t])*e},h=function(e){var t=Number(e)>=86400?"day":Number(e)>=3600?"hour":Number(e)>=60?"minutes":"seconds";return{timer:Number(e)/p[t],unitType:t}},N=m.createElement(r.Z,{defaultValue:ne[0],style:{width:100},value:l,onChange:function(e){s(e)}},ne.map((function(e){return m.createElement(ee,{key:e},e)})));return m.createElement(a.Z,{direction:"vertical"},m.createElement(i.Z,null,"日程类型"),m.createElement(i.Z,null,m.createElement(r.Z,{defaultValue:te[0].value,value:n,onChange:function(e){c(e)},style:{width:"100%"}},te.map((function(e){return m.createElement(ee,{key:e.key},e.value)})))),m.createElement(i.Z,null,"间隔时间"),m.createElement(i.Z,{align:"middle"},m.createElement(u.Z,{span:2},"每"),m.createElement(u.Z,{span:19},m.createElement(Y,{addonAfter:N,defaultValue:1,value:d,onChange:function(e){v(e)}})),m.createElement(u.Z,{span:3},"一次")))}}}]);